{
  "name": "supa-storage",
  "version": "0.9.5",
  "description": "Supabase storage middleend",
  "main": "index.js",
  "scripts": {
    "dev": "tsx watch ./src/server.ts | pino-pretty",
    "build": "tsc -p tsconfig.json",
    "start": "NODE_ENV=production node dist/server.js",
    "migration:run": "tsx ./src/scripts/migrate-call.ts",
    "docs:export": "tsx ./src/scripts/export-docs.ts",
    "test:dummy-data": "tsx -r dotenv/config ./src/test/db/import-dummy-data.ts",
    "test": "npm run infra:restart && npm run test:dummy-data && jest --runInBand --forceExit",
    "test:coverage": "npm run infra:restart && npm run test:dummy-data && jest --runInBand --coverage --forceExit",
    "prettier:check": "prettier -v && prettier -c src/**",
    "format": "prettier -c --write src/**",
    "eslint:check": "eslint 'src/**'",
    "infra:stop": "docker compose --project-directory . -f ./.docker/docker-compose-infra.yml down --remove-orphans",
    "infra:start": "docker compose --project-directory . -f ./.docker/docker-compose-infra.yml up -d && sleep 5 && npm run migration:run",
    "infra:restart": "npm run infra:stop && npm run infra:start"
  },
  "author": "Supabase",
  "license": "ISC",
  "engines": {
    "node": ">= 14.0.0"
  },
  "dependencies": {
    "@aws-sdk/client-s3": "3.515.0",
    "@aws-sdk/lib-storage": "3.515.0",
    "@aws-sdk/s3-request-presigner": "3.421.0",
    "@fastify/accepts": "^4.3.0",
    "@fastify/multipart": "^7.6.0",
    "@fastify/rate-limit": "^7.6.0",
    "@fastify/swagger": "^8.3.1",
    "@fastify/swagger-ui": "^1.7.0",
    "@isaacs/ttlcache": "^1.4.1",
    "@shopify/semaphore": "^3.0.2",
    "@smithy/node-http-handler": "^2.3.1",
    "@tus/file-store": "1.3.1",
    "@tus/s3-store": "1.4.1",
    "@tus/server": "1.4.1",
    "agentkeepalive": "^4.2.1",
    "ajv": "^8.12.0",
    "async-retry": "^1.3.3",
    "axios": "^1.6.3",
    "axios-retry": "^3.9.1",
    "connection-string": "^4.3.6",
    "conventional-changelog-conventionalcommits": "^5.0.0",
    "crypto-js": "^4.2.0",
    "dotenv": "^16.0.0",
    "fastify": "^4.8.1",
    "fastify-metrics": "^10.2.0",
    "fastify-plugin": "^4.0.0",
    "fastify-xml-body-parser": "^2.2.0",
    "fs-extra": "^10.0.1",
    "fs-xattr": "0.3.1",
    "ioredis": "^5.2.4",
    "jsonwebtoken": "^9.0.2",
    "knex": "^3.1.0",
    "lru-cache": "^10.2.0",
    "md5-file": "^5.0.0",
    "multistream": "^4.1.0",
    "object-sizeof": "^2.6.4",
    "pg": "^8.11.3",
    "pg-boss": "^9.0.3",
    "pg-listen": "^1.7.0",
    "pino": "^8.15.4",
    "pino-logflare": "^0.4.2",
    "postgres-migrations": "^5.3.0",
    "prom-client": "^14.0.1",
    "xml2js": "^0.6.2"
  },
  "devDependencies": {
    "@types/async-retry": "^1.4.5",
    "@types/busboy": "^1.3.0",
    "@types/crypto-js": "^4.1.1",
    "@types/fs-extra": "^9.0.13",
    "@types/jest": "^29.2.1",
    "@types/js-yaml": "^4.0.5",
    "@types/jsonwebtoken": "^9.0.5",
    "@types/multistream": "^4.1.3",
    "@types/mustache": "^4.2.2",
    "@types/node": "^20.11.5",
    "@types/pg": "^8.6.4",
    "@types/stream-buffers": "^3.0.7",
    "@types/xml2js": "^0.4.14",
    "@typescript-eslint/eslint-plugin": "^5.12.1",
    "@typescript-eslint/parser": "^5.12.1",
    "babel-jest": "^29.2.2",
    "eslint": "^8.9.0",
    "eslint-config-prettier": "^8.10.0",
    "eslint-plugin-prettier": "^4.2.1",
    "form-data": "^4.0.0",
    "jest": "^29.2.2",
    "jest-cucumber": "^4.2.0",
    "js-yaml": "^4.1.0",
    "json-schema-to-ts": "^3.0.0",
    "mustache": "^4.2.0",
    "pino-pretty": "^8.1.0",
    "prettier": "^2.8.8",
    "stream-buffers": "^3.0.2",
    "ts-jest": "^29.0.3",
    "ts-node-dev": "^1.1.8",
    "tsx": "^3.13.0",
    "tus-js-client": "^3.1.0",
    "typescript": "^4.5.5"
  },
  "bin": "./dist/server.js"
}
